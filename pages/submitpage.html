<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<!-- Human Computer Interaction: Group Project
Group: Nicole Knox, Patrick Wrape, Travis Canales, Rondell Hames
Milestone 1: Basic UI and form to enter information. 
(Mar. 9th, 2015) -->

<head>
	<title>AfterStorm: Submit Emergency</title>
	<link rel="StyleSheet" type="text/css" href="main.css">
</head>

<body>
	<div class="tornadopic">
		<h1>AfterStorm</h1>
	</div>

	<div class="navigation">
		<div id="nav">
			<ul>
			<li><a href="index.html" class="design-name">Home</a></li>	
			<li><a href="about.html" class="design-name">About</a></li>
			<li><a href="preemergency.html" class="design-name">Before the Emergency</a></li>
			<li><a href="submitpage.html" class="design-name">After the Emergency</a></li>
			<li><a href="contact.html" class="design-name">Contact</a></li>
			<li><a href="login.html" class="design-name">Login</a></li>
			</ul>
		</div>
	</div>
	
	<div class="loginbg">
		<div class="login">
			<h2>Submit Post-Emergency Form</h2>
		<!-- http://www.w3schools.com/html/html_forms.asp 
		Useful for "GET" and "POST" stuff-->
		<p>If you are in an emergency situation, fill out and submit the form below and emergency personnel will be notified of your condition.</p>
		<form onsubmit="sendData()">
			<table>
			  <tr>
				<td><span class="required">*</span>Full Name:</td>
				<td><input type="text" name="name" maxlength="50" pattern="[A-Za-z ]{2,50}"
				title="Invalid Input, try again." id="name" required></td>
			  </tr>
			  <tr>
				<td><span class="required">*</span>Address:</td>
				<td><input type="text" name="address" maxlength="40" id ="address"
				pattern="[A-Za-z0-9 .-]{1,40}" title="Invalid Input, try again." required></td> 
			  </tr>
			  <tr>
				<td>Address Line 2:</td>
				<td><input type="text" name="address2" maxlength="20" id="address2"
				pattern="[A-Za-z0-9 .-]{1,40}" title="Invalid Input, try again." ></td> 
			  </tr>
			  <tr>
				<td><span class="required">*</span>Zip Code:</td>
				<td><input type="text" name="zip" maxlength="9" pattern="[0-9]{5}"
				title="Please input your 5 digit zip code" id="zip" required></td>
			  </tr>
			  <tr>
				<td><span class="required">*</span>Phone Number:</td>
				<td><input type="text" name="phone" maxlength="10"pattern="[0-9]{10}" id="phone"
				title="Please input your 10 digit phone number starting with the area code" required></td> 
			  </tr>
			  <tr>
				<td><span class="required">*</span>Are you in critical danger?</td>
				<td><input type="radio" name="critical" value="yes" id="yes">Yes
				<br>
				<input type="radio" name="critical" value="no" checked id="no">No</td> 
			  </tr>
			  <tr>
				<td>Additional Comments:<br>
				<span class="explanation">Please indicate if you are with others and their medical conditions, <br>
				if you have any medical allergies, and any other pertinent information.</span><br>
				<br><span class="required" style="font-size:18px">fields marked with * are required</span></td>
				<td><textarea rows="10" cols="50" maxlength="600" placeholder="600 characters available." id="comments"></textarea></td> 
			  </tr>
			</table>
		<center><input type="submit" name="submitbutton"></center>
		</form>
		</div>
	</div>
</body>
<script>
	var nameV, addr1, addr2, zipV, phoneV, commV, crit, message;
	
	function sendData(){
		nameV = document.getElementById("name").value;
		addr1 = document.getElementById("address").value;
		addr2 = document.getElementById("address2").value;
		zipV = document.getElementById("zip").value;
		phoneV = document.getElementById("phone").value;
		if(document.getElementById("yes").checked){
			crit = document.getElementById("yes").value;
		}
		else{
			crit = document.getElementById("no").value;
		}
		commV = document.getElementById("comments").value;
		message = ("name=" + nameV + "&address=" + addr1 + "&address2=" + addr2
			+ "&zip=" + zipV + "&phone=" + phoneV + "&critical=" + crit + "&comments=" + commV);
		alert(message);
	}
	
	window.onload = function() {
		var params = window.location.hash.substr(1).split("&");
		console.log(params);
		for(var i=0; i<params.length-1; i++){
			var p = params[i].split("=");
			document.getElementById(p[0]).value = p[1];
		}
	}
</script>
</html>
